<mat-toolbar class="navbar">
    <div class="navbar-content">
        <div class="navbar-left">
            <button mat-icon-button class="menu-toggle" (click)="onToggleSidebar()">
                <mat-icon>{{isSidebarOpen() ? 'menu_open' : 'menu'}}</mat-icon>
            </button>
            <span class="company-name">{{companyName}}</span>
        </div>
        <div class="navbar-right">
            <div class="user-menu">
                <button mat-button class="user-button" [matMenuTriggerFor]="userMenu">
                    <div class="button-info-user">
                        <div class="user-avatar">
                            {{ getUserInitials() }}
                        </div>
                        <div class="user-info">
                            <span class="user-name">{{ getUserFullName() }}</span>
                        </div>
                    </div>
                </button>


                <mat-menu #userMenu="matMenu" class="user-dropdown">
                    <div class="user-menu-header">
                        <div class="user-avatar-large">
                            {{ getUserInitials() }}
                        </div>
                        <div class="user-details">
                            <div class="user-name">{{ getUserFullName() }}</div>
                            <div class="user-email">{{ currentUser()?.email }}</div>
                        </div>
                    </div>
                    <button mat-menu-item (click)="openProfile()">
                        <mat-icon>person</mat-icon>
                        <span>Mi Perfil</span>
                    </button>

                    <button mat-menu-item (click)="openChangePassword()">
                        <mat-icon>lock</mat-icon>
                        <span>Cambiar Contraseña</span>
                    </button>
                    <button mat-menu-item class="logout-item" (click)="logout()">
                        <mat-icon>exit_to_app</mat-icon>
                        <span>Cerrar Sesión</span>
                    </button>
                </mat-menu>
            </div>
        </div>
    </div>
</mat-toolbar>